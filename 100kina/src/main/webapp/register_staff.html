<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="styles/bootstrap.css" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    <script type="text/javascript">
    	function reset() {
        	alert("Registration failed!");
        	$("#reset_data").trigger("click");
    	}
        function isPasswordValid(password) {
            var confirm_pass = $("#confirm_pwd").val();
            if (password != confirm_pass) {
                alert("Passwords do not match!");
                return false;
            }
            return true;
        }
        
        $(document).ready(function(){
    		$("#register").click(function(){
    			var username = $("#userName").val();
                var password = $("#pwd").val();
                var email = $("#email").val();
                
    			if (username == "" || password == "" || email == "") {
    	                return;
    	        }
    			if(!isPasswordValid(password)){
                	alert("Passwords must match!");
                    return;
                }
    			
    			var userData = {
    	                user: {
    	                    userName : username,
    	                    password : password,
    	                    email: email
    	                }            
    	            }
    	        $.ajax({
    	        	type: "POST",
    	        	contentType: "application/json;charset=UTF-8",
    	        	url: "rest/user/secure",
    	        	data: JSON.stringify(userData),
    	        	success: function(data, textStatus, xhr){
    	        			window.location = "program.html";
    	        	},
    	        	error: function(data, textStatus, xhr){
    	        		alert("Registration failed");
                        $("#reset_data").trigger("click");
    	        	}
    	        });
    	        return false;
    		});
    	});
    </script>
</head>
<body>
	<!-- Header navigation -->
	 <div class="navbar navbar-default navbar-fixed-top">
    	<div class="container">
    		<div class="navbar-header">
    			<a href="https://www.google.bg/" class="navbar-brand">100 KINA</a>
    			 <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		          </button>
    		</div>
    		<div class="navbar-collapse collapse" id="navbar-main">
    			<ul class="nav navbar-nav">
    				<li>
    					<a href="program.html">Program</a>
    				</li>
    				<li>
    					<a href="login.html">Login</a>
    				</li>
    				<li>
    					<a href="register.html">Register</a>
    				</li>
    			</ul>
    		</div>
    	</div>
    </div>
    
    <h1 align="center">
        <b>Register Staff</b>
    </h1>
<div class="col-lg-6 col-md-offset-3">
    		<div class="well bs-component">
    <form class="form-horizontal" method="post" id="register_form">
    <fieldset>
        <div class="form-group">
            <label for="userName" class="col-lg-3 control-label col-md-offset-1">User name</label>
            <div class="col-lg-7">
            	<input type="text" class="form-control" id="userName" required="required" placeholder="User name" value="" />
        	</div>
        </div>
         <div class="form-group">
            <label for="password" class="col-lg-3 control-label col-md-offset-1">Password</label>
            <div class="col-lg-7">
            	<input type="password" class="form-control" id="pwd" required="required" placeholder="Password" value="" />
        	</div>
        </div>
         <div class="form-group">
            <label for="confirm_pwd" class="col-lg-3 control-label col-md-offset-1">Confirm password</label>
            <div class="col-lg-7">
            	<input type="password" class="form-control" id="confirm_pwd" required="required" placeholder="Confirm Password" value="" />
        	</div>
        </div>
         <div class="form-group">
            <label for="email" class="col-lg-3 control-label col-md-offset-1">Email</label>
            <div class="col-lg-7">
            	<input type="text" class="form-control"  id="email" required="required" placeholder="E-mail" value="" />
        	</div>
        </div>
        <div class="form-group">
     	 <div class="col-lg-7 col-lg-offset-4">
        	<button type="reset" class="btn btn-default" id="reset_data">Reset</button>
        	<button type="submit" id="register" class="btn btn-default">Register</button>
       	</div>
       	</div>
    </fieldset>
    </form>
    </div>
    </div>
</body>
</html>